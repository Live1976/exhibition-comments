<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Exhibition Comments</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, system-ui, sans-serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 1024px;
            margin: 0 auto;
            padding: 60px 40px 40px;
            min-height: 100vh;
        }

        .header {
            text-align: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #000;
            padding: 40px;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        h1 {
            font-size: 32px;
            font-weight: 300;
            letter-spacing: 3px;
        }

        .comments-wrapper {
            margin-top: 120px;
            position: relative;
        }

        .comment {
            margin-bottom: 60px;
            padding-bottom: 60px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .comment:nth-child(n) {
            animation-delay: calc(0.1s * var(--index));
        }

        .comment-author {
            font-size: 18px;
            margin-bottom: 16px;
            opacity: 0.6;
            letter-spacing: 1px;
        }

        .comment-text {
            font-size: 32px;
            line-height: 1.4;
            font-weight: 300;
            margin-bottom: 16px;
        }

        .comment-time {
            font-size: 14px;
            opacity: 0.4;
            letter-spacing: 1px;
        }

        .empty {
            text-align: center;
            font-size: 24px;
            opacity: 0.5;
            padding: 200px 40px;
        }

        .auto-scroll-indicator {
            position: fixed;
            bottom: 40px;
            right: 40px;
            background: rgba(255, 255, 255, 0.1);
            padding: 16px 24px;
            border-radius: 30px;
            font-size: 14px;
            opacity: 0.7;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 100;
        }

        .auto-scroll-indicator:hover {
            background: rgba(255, 255, 255, 0.2);
            opacity: 1;
        }

        .auto-scroll-indicator.paused {
            background: rgba(255, 255, 255, 0.8);
            color: #000;
        }

        /* iPad specific adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 40px 20px;
            }
            
            .header {
                padding: 30px 20px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .comment-text {
                font-size: 24px;
            }
            
            .comments-wrapper {
                margin-top: 100px;
            }
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Hide scrollbar but keep functionality */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>EXHIBITION COMMENTS</h1>
    </div>

    <div class="container">
        <div class="comments-wrapper" id="commentsWrapper"></div>
    </div>

    <div class="auto-scroll-indicator" id="scrollIndicator">
        AUTO SCROLL: ON
    </div>

    <script>
        // Mock comments with more content for scrolling
        const mockComments = [
            { name: "ANNA", text: "The exhibition captures the essence of contemporary art beautifully. Each piece tells its own unique story.", time: "2 MIN AGO" },
            { name: "JOHN", text: "I was particularly moved by the installation in the third room. It made me reflect on our relationship with technology.", time: "5 MIN AGO" },
            { name: "MARIA", text: "The curation is exceptional. The flow from one room to another creates a narrative that enhances the viewing experience.", time: "8 MIN AGO" },
            { name: "DAVID", text: "This is my second visit, and I'm still discovering new details. The lighting really brings out the subtleties in each work.", time: "15 MIN AGO" },
            { name: "EMMA", text: "The interactive elements add a whole new dimension. It's refreshing to see art that invites participation.", time: "18 MIN AGO" },
            { name: "MICHAEL", text: "As an art student, I find this exhibition incredibly inspiring. The way traditional techniques are combined with modern concepts is brilliant.", time: "22 MIN AGO" },
            { name: "SOPHIA", text: "The use of space is masterful. Even the empty areas between works feel intentional and meaningful.", time: "28 MIN AGO" },
            { name: "ROBERT", text: "I brought my children, and they were fascinated. It's wonderful to see art that speaks to all ages.", time: "35 MIN AGO" },
            { name: "LISA", text: "The sound installation on the second floor is hauntingly beautiful. I could have stayed there for hours.", time: "42 MIN AGO" },
            { name: "THOMAS", text: "This exhibition challenges conventional boundaries. It's provocative without being pretentious.", time: "48 MIN AGO" }
        ];

        let autoScroll = true;
        let scrollSpeed = 1;
        let scrollInterval;
        let touchStartY = 0;
        let lastScrollTime = Date.now();

        function renderComments() {
            const wrapper = document.getElementById('commentsWrapper');
            const comments = window.exhibitionComments || mockComments;
            
            if (comments.length === 0) {
                wrapper.innerHTML = '<div class="empty">WAITING FOR THE FIRST COMMENT</div>';
                return;
            }
            
            wrapper.innerHTML = comments.map((comment, index) => `
                <div class="comment" style="--index: ${index}">
                    <div class="comment-author">${comment.name}</div>
                    <div class="comment-text">${comment.text}</div>
                    <div class="comment-time">${comment.time}</div>
                </div>
            `).join('');
        }

        function startAutoScroll() {
            if (!autoScroll) return;
            
            scrollInterval = setInterval(() => {
                // Check if user has manually scrolled recently
                if (Date.now() - lastScrollTime > 3000) {
                    window.scrollBy(0, scrollSpeed);
                    
                    // Reset to top when reaching bottom
                    if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 10) {
                        setTimeout(() => {
                            window.scrollTo(0, 0);
                        }, 3000);
                    }
                }
            }, 50);
        }

        function stopAutoScroll() {
            clearInterval(scrollInterval);
        }

        function toggleAutoScroll() {
            autoScroll = !autoScroll;
            const indicator = document.getElementById('scrollIndicator');
            
            if (autoScroll) {
                indicator.textContent = 'AUTO SCROLL: ON';
                indicator.classList.remove('paused');
                startAutoScroll();
            } else {
                indicator.textContent = 'AUTO SCROLL: OFF';
                indicator.classList.add('paused');
                stopAutoScroll();
            }
        }

        // Touch event handlers for iPad
        let touchTimeout;
        
        document.addEventListener('touchstart', (e) => {
            touchStartY = e.touches[0].clientY;
            lastScrollTime = Date.now();
            
            // Temporarily pause auto-scroll when user touches screen
            if (autoScroll) {
                stopAutoScroll();
                clearTimeout(touchTimeout);
                
                // Resume auto-scroll after 5 seconds of no touch
                touchTimeout = setTimeout(() => {
                    if (autoScroll) {
                        startAutoScroll();
                    }
                }, 5000);
            }
        });

        document.addEventListener('touchmove', () => {
            lastScrollTime = Date.now();
        });

        // Manual scroll detection
        window.addEventListener('wheel', () => {
            lastScrollTime = Date.now();
        });

        window.addEventListener('scroll', () => {
            lastScrollTime = Date.now();
        });

        // Click handler for auto-scroll toggle
        document.getElementById('scrollIndicator').addEventListener('click', toggleAutoScroll);

        // Initial render
        renderComments();

        // Start auto-scroll
        startAutoScroll();

        // Update comments every 10 seconds
        setInterval(() => {
            // Check for new comments
            renderComments();
        }, 10000);

        // Simulate new comments for demo
        setInterval(() => {
            const names = ["VISITOR", "GUEST", "STUDENT", "ARTIST", "CURATOR"];
            const comments = [
                "Absolutely breathtaking work.",
                "The attention to detail is remarkable.",
                "This piece speaks to me on so many levels.",
                "I'll definitely be coming back.",
                "A truly immersive experience."
            ];
            
            const newComment = {
                name: names[Math.floor(Math.random() * names.length)] + " " + Math.floor(Math.random() * 100),
                text: comments[Math.floor(Math.random() * comments.length)],
                time: "JUST NOW"
            };
            
            if (window.exhibitionComments) {
                window.exhibitionComments.unshift(newComment);
                renderComments();
            }
        }, 45000);
    </script>
</body>
</html>